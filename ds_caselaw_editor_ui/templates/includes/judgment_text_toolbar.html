{% load i18n %}
<div class="judgment-toolbar">
  <div class="judgment-toolbar__container">
    {% if request.args.origin == 'results' %}
      <div class="judgment-toolbar__return-link">
        <a href="{{ request.args.return_link }}">
          {% translate "judgment.back" %}
        </a>
      </div>
    {% endif %}
    <div class="judgment-toolbar__edit">

      {% if context.judgment.is_editable %}
        <a class="judgment-toolbar__button{% if not context.judgment_content %} judgment-toolbar__button-selected{% endif %}" href="{% url 'edit' %}?judgment_uri={{context.judgment_uri}}">
          {% translate "judgment.edit_this_judgment" %}
        </a>
        <a class="judgment-toolbar__button{% if context.judgment_content %} judgment-toolbar__button-selected{% endif %}" href="{% url 'detail' %}?judgment_uri={{context.judgment_uri}}">
          {% translate "judgment.view_this_judgment" %}
        </a>
      {% else %}
        <span class="judgment-toolbar__button" aria-disabled="true">
          {% translate "judgment.edit_this_judgment" %}
        </span>
        <span class="judgment-toolbar__button" aria-disabled="true">
          {% translate "judgment.view_this_judgment" %}
        </span>
      {% endif %}

      {% if context.judgment.docx_url %}
        <a class="judgment-toolbar__button" href="{{ context.judgment.docx_url }}">
          {% translate "judgment.download_docx" %}
        </a>
      {% else %}
        <span class="judgment-toolbar__button" aria-disabled="true">
          {% translate "judgment.download_docx" %}
        </span>
      {% endif %}

      {% if context.judgment.pdf_url %}
        <a class="judgment-toolbar__button" href="{{ context.judgment.pdf_url }}">
          {% translate "judgment.download_pdf" %}
        </a>
      {% else %}
        <span class="judgment-toolbar__button" aria-disabled="true">
          {% translate "judgment.download_pdf" %}
        </span>
      {% endif %}

      {% if context.judgment.is_published %}
        <a class="judgment-toolbar__button" href="https://caselaw.nationalarchives.gov.uk/{{context.judgment_uri}}" target="_blank">
          {% translate "judgment.view_on_public" %}
        </a>
      {% else %}
        <span class="judgment-toolbar__button" aria-disabled="true">
          {% translate "judgment.view_on_public" %}
        </span>
      {% endif %}

      {% if context.judgment.is_failure %}
        <form action="/delete" method="post">
          {% csrf_token %}
          <input
            type="hidden"
            name="judgment_uri"
            value="{{context.judgment_uri}}"
          />
          <input
            type="submit"
            name="assign"
            value="{% translate 'judgment.delete' %}"
          />
        </form>
      {% endif %}

    </div>
    {% if context.version %}
      <div class="judgment-toolbar__version">
        <b>You are viewing version {{ context.version }} of this Judgment.</b>
      </div>
    {% endif %}
  </div>
</div>
